EESchema Schematic File Version 2
LIBS:regulator-rescue
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:microchip_dspic33dsc
LIBS:microchip_pic10mcu
LIBS:microchip_pic12mcu
LIBS:microchip_pic16mcu
LIBS:microchip_pic18mcu
LIBS:microchip_pic32mcu
LIBS:74xgxx
LIBS:ac-dc
LIBS:actel
LIBS:Altera
LIBS:analog_devices
LIBS:brooktre
LIBS:cmos_ieee
LIBS:dc-dc
LIBS:dspic
LIBS:elec-unifil
LIBS:ESD_Protection
LIBS:ftdi
LIBS:gennum
LIBS:graphic
LIBS:hc11
LIBS:ir
LIBS:Lattice
LIBS:logo
LIBS:lpc43xx
LIBS:maxim
LIBS:motor_drivers
LIBS:msp430
LIBS:nordicsemi
LIBS:nxp_armmcu
LIBS:onsemi
LIBS:Oscillators
LIBS:passives
LIBS:pic18
LIBS:Power_Management
LIBS:powerint
LIBS:pspice
LIBS:references
LIBS:relays
LIBS:rfcom
LIBS:sensors
LIBS:silabs
LIBS:st
LIBS:stm8
LIBS:stm32
LIBS:supertex
LIBS:switches
LIBS:transf
LIBS:ttl_ieee
LIBS:video
LIBS:vreg
LIBS:Xicor
LIBS:Zilog
LIBS:regulator-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "PWM Regulator v3"
Date "2015-07-18"
Rev "1.2g"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L PIC12F675-I/P IC1
U 1 1 5562ECDD
P 3050 3050
F 0 "IC1" H 2400 3600 50  0000 L CNN
F 1 "PIC12F675-I/P" H 2400 3500 50  0000 L CNN
F 2 "" H 3050 3050 60  0000 C CNN
F 3 "" H 3050 3050 60  0000 C CNN
	1    3050 3050
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 5562F100
P 4200 2750
F 0 "R1" V 4280 2750 50  0000 C CNN
F 1 "1k" V 4200 2750 50  0000 C CNN
F 2 "" V 4130 2750 30  0000 C CNN
F 3 "" H 4200 2750 30  0000 C CNN
	1    4200 2750
	0    1    1    0   
$EndComp
$Comp
L GND #PWR1
U 1 1 5562F1DC
P 4800 3900
F 0 "#PWR1" H 4800 3650 50  0001 C CNN
F 1 "GND" H 4800 3750 50  0000 C CNN
F 2 "" H 4800 3900 60  0000 C CNN
F 3 "" H 4800 3900 60  0000 C CNN
	1    4800 3900
	1    0    0    -1  
$EndComp
$Comp
L INDUCTOR L1
U 1 1 5562F5BA
P 7100 1850
F 0 "L1" V 7050 1850 50  0000 C CNN
F 1 "100uH 3A" V 7200 1850 50  0000 C CNN
F 2 "" H 7100 1850 60  0000 C CNN
F 3 "" H 7100 1850 60  0000 C CNN
	1    7100 1850
	0    -1   -1   0   
$EndComp
$Comp
L D_Schottky D1
U 1 1 5562F65F
P 6600 2400
F 0 "D1" H 6600 2500 50  0000 C CNN
F 1 "1N5822" H 6600 2300 50  0000 C CNN
F 2 "" H 6600 2400 60  0000 C CNN
F 3 "" H 6600 2400 60  0000 C CNN
	1    6600 2400
	0    1    1    0   
$EndComp
$Comp
L CP1 C2
U 1 1 5562F717
P 7550 2350
F 0 "C2" H 7575 2450 50  0000 L CNN
F 1 "100u" H 7575 2250 50  0000 L CNN
F 2 "" H 7550 2350 60  0000 C CNN
F 3 "" H 7550 2350 60  0000 C CNN
	1    7550 2350
	1    0    0    -1  
$EndComp
Text GLabel 8650 1850 2    60   Output ~ 0
+
$Comp
L LM7805 U1
U 1 1 5562FA2D
P 1350 2800
F 0 "U1" H 1500 2604 60  0000 C CNN
F 1 "LM7805" H 1350 3000 60  0000 C CNN
F 2 "" H 1350 2800 60  0000 C CNN
F 3 "" H 1350 2800 60  0000 C CNN
	1    1350 2800
	1    0    0    -1  
$EndComp
$Comp
L CP1 C1
U 1 1 5562FCAD
P 1900 3150
F 0 "C1" H 1925 3250 50  0000 L CNN
F 1 "100uf" H 1925 3050 50  0000 L CNN
F 2 "" H 1900 3150 60  0000 C CNN
F 3 "" H 1900 3150 60  0000 C CNN
	1    1900 3150
	1    0    0    -1  
$EndComp
$Comp
L R R2
U 1 1 556305A0
P 4450 3250
F 0 "R2" V 4530 3250 50  0000 C CNN
F 1 "10k" V 4450 3250 50  0000 C CNN
F 2 "" V 4380 3250 30  0000 C CNN
F 3 "" H 4450 3250 30  0000 C CNN
	1    4450 3250
	1    0    0    -1  
$EndComp
$Comp
L POT RV1
U 1 1 55630C4A
P 8000 3150
F 0 "RV1" H 8000 3050 50  0000 C CNN
F 1 "100k" H 8000 3150 50  0000 C CNN
F 2 "" H 8000 3150 60  0000 C CNN
F 3 "" H 8000 3150 60  0000 C CNN
	1    8000 3150
	0    1    1    0   
$EndComp
$Comp
L R R4
U 1 1 55631075
P 8000 2500
F 0 "R4" V 8080 2500 50  0000 C CNN
F 1 "100k" V 8000 2500 50  0000 C CNN
F 2 "" V 7930 2500 30  0000 C CNN
F 3 "" H 8000 2500 30  0000 C CNN
	1    8000 2500
	1    0    0    -1  
$EndComp
Text GLabel 8650 3700 2    60   Output ~ 0
-
$Comp
L Q_NMOS_GDS-RESCUE-regulator Q3
U 1 1 5563B1A2
P 5800 1950
F 0 "Q3" V 6050 2200 50  0000 R CNN
F 1 "BUK9511-55A (Logic Level)" V 6200 2200 50  0000 R CNN
F 2 "" H 6000 2050 29  0000 C CNN
F 3 "" H 5800 1950 60  0000 C CNN
	1    5800 1950
	0    -1   -1   0   
$EndComp
$Comp
L Q_NPN_EBC-RESCUE-regulator Q1
U 1 1 5563BACB
P 5400 2550
F 0 "Q1" H 5700 2600 50  0000 R CNN
F 1 "PN2222A" H 6000 2500 50  0000 R CNN
F 2 "" H 5600 2650 29  0000 C CNN
F 3 "" H 5400 2550 60  0000 C CNN
	1    5400 2550
	1    0    0    -1  
$EndComp
$Comp
L Q_PNP_EBC-RESCUE-regulator Q2
U 1 1 5563BB02
P 5400 3000
F 0 "Q2" H 5700 3050 50  0000 R CNN
F 1 "2N2907A" H 6000 2950 50  0000 R CNN
F 2 "" H 5600 3100 29  0000 C CNN
F 3 "" H 5400 3000 60  0000 C CNN
	1    5400 3000
	1    0    0    1   
$EndComp
$Comp
L D D2
U 1 1 5563BF9E
P 4100 2050
F 0 "D2" H 4100 2150 50  0000 C CNN
F 1 "1N4004" H 4100 1950 50  0000 C CNN
F 2 "" H 4100 2050 60  0000 C CNN
F 3 "" H 4100 2050 60  0000 C CNN
	1    4100 2050
	-1   0    0    1   
$EndComp
$Comp
L CP C3
U 1 1 5563CD46
P 6050 2750
F 0 "C3" H 6075 2850 50  0000 L CNN
F 1 "1u" H 6075 2650 50  0000 L CNN
F 2 "" H 6088 2600 30  0000 C CNN
F 3 "" H 6050 2750 60  0000 C CNN
	1    6050 2750
	1    0    0    -1  
$EndComp
$Comp
L Q_NPN_EBC-RESCUE-regulator Q4
U 1 1 55642E1A
P 4550 2750
F 0 "Q4" H 4850 2800 50  0000 R CNN
F 1 "PN2222A" H 5150 2700 50  0000 R CNN
F 2 "" H 4750 2850 29  0000 C CNN
F 3 "" H 4550 2750 60  0000 C CNN
	1    4550 2750
	1    0    0    -1  
$EndComp
$Comp
L R R5
U 1 1 55643032
P 4900 2450
F 0 "R5" V 4980 2450 50  0000 C CNN
F 1 "1k" V 4900 2450 50  0000 C CNN
F 2 "" V 4830 2450 30  0000 C CNN
F 3 "" H 4900 2450 30  0000 C CNN
	1    4900 2450
	0    1    1    0   
$EndComp
$Comp
L R R3
U 1 1 556430B0
P 4650 2250
F 0 "R3" V 4730 2250 50  0000 C CNN
F 1 "10k" V 4650 2250 50  0000 C CNN
F 2 "" V 4580 2250 30  0000 C CNN
F 3 "" H 4650 2250 30  0000 C CNN
	1    4650 2250
	1    0    0    -1  
$EndComp
Text Label 3900 2750 0    60   ~ 0
PWM
Text Label 4950 2050 0    60   ~ 0
BootStrap
Text Label 4900 3400 0    60   ~ 0
FEEDBACK
$Comp
L D_Schottky D3
U 1 1 55680546
P 6400 1850
F 0 "D3" H 6400 1950 50  0000 C CNN
F 1 "1N5822" H 6400 1750 50  0000 C CNN
F 2 "" H 6400 1850 60  0000 C CNN
F 3 "" H 6400 1850 60  0000 C CNN
	1    6400 1850
	-1   0    0    1   
$EndComp
Text GLabel 1350 1500 0    60   Input ~ 0
Vin(14+)
Text GLabel 1100 3700 0    60   Input ~ 0
Vin-
$Comp
L LED D4
U 1 1 55680B3B
P 4250 3450
F 0 "D4" H 4250 3550 50  0000 C CNN
F 1 "LED" H 4250 3350 50  0000 C CNN
F 2 "" H 4250 3450 60  0000 C CNN
F 3 "" H 4250 3450 60  0000 C CNN
	1    4250 3450
	0    -1   -1   0   
$EndComp
$Comp
L R R6
U 1 1 55680C08
P 4050 2950
F 0 "R6" V 4130 2950 50  0000 C CNN
F 1 "1k" V 4050 2950 50  0000 C CNN
F 2 "" V 3980 2950 30  0000 C CNN
F 3 "" H 4050 2950 30  0000 C CNN
	1    4050 2950
	0    1    1    0   
$EndComp
$Comp
L D D5
U 1 1 558499A4
P 2550 1850
F 0 "D5" H 2550 1950 50  0000 C CNN
F 1 "1N4007" H 2550 1750 50  0000 C CNN
F 2 "" H 2550 1850 60  0000 C CNN
F 3 "" H 2550 1850 60  0000 C CNN
	1    2550 1850
	1    0    0    1   
$EndComp
$Comp
L R R8
U 1 1 55A0233C
P 3500 2350
F 0 "R8" V 3580 2350 50  0000 C CNN
F 1 "10k" V 3500 2350 50  0000 C CNN
F 2 "" V 3430 2350 30  0000 C CNN
F 3 "" H 3500 2350 30  0000 C CNN
	1    3500 2350
	0    1    1    0   
$EndComp
Text Label 3850 2550 2    60   ~ 0
5Vout(GND)
Text Notes 3750 3950 2    60   ~ 0
GP3 (GND) = 5v\nGP4 (GND) = Check Charging
Wire Wire Line
	4800 3700 4800 3900
Wire Wire Line
	2250 3700 2250 3350
Connection ~ 4800 3700
Connection ~ 4800 1850
Wire Wire Line
	6600 3700 6600 2550
Wire Wire Line
	6600 2250 6600 1850
Connection ~ 6600 1850
Wire Wire Line
	7400 1850 8650 1850
Connection ~ 2250 3700
Wire Wire Line
	1750 2750 2250 2750
Wire Wire Line
	1900 3300 1900 3700
Connection ~ 1900 3700
Wire Wire Line
	7550 1850 7550 2200
Connection ~ 7550 1850
Wire Wire Line
	7550 3700 7550 2500
Connection ~ 6600 3700
Wire Wire Line
	8000 1850 8000 2350
Connection ~ 8000 1850
Wire Wire Line
	8000 2650 8000 2900
Connection ~ 7550 3700
Wire Wire Line
	3850 2750 4050 2750
Wire Wire Line
	4450 3400 7750 3400
Wire Wire Line
	7750 3400 7750 2800
Wire Wire Line
	7750 2800 8000 2800
Connection ~ 8000 2800
Wire Wire Line
	8150 3700 8150 3150
Connection ~ 8150 3700
Wire Wire Line
	5200 2450 5200 3000
Wire Wire Line
	3850 2850 4450 2850
Wire Wire Line
	4450 2850 4450 3100
Wire Wire Line
	4650 2400 4650 2550
Wire Wire Line
	4650 2100 4650 2050
Wire Wire Line
	4250 2050 6050 2050
Wire Wire Line
	4750 2450 4650 2450
Connection ~ 4650 2450
Wire Wire Line
	4650 3700 4650 2950
Connection ~ 4650 3700
Wire Wire Line
	5050 2450 5200 2450
Connection ~ 5200 2550
Wire Wire Line
	6050 2900 6050 3200
Wire Wire Line
	5800 2750 5800 2150
Connection ~ 4650 2050
Wire Wire Line
	6050 2050 6050 2600
Connection ~ 5500 2050
Wire Wire Line
	5500 2050 5500 2350
Wire Wire Line
	6200 3200 6200 1850
Connection ~ 6200 1850
Wire Wire Line
	1100 3700 8650 3700
Wire Wire Line
	1900 2050 1900 3000
Connection ~ 1900 2750
Wire Wire Line
	5500 2750 5500 2800
Wire Wire Line
	5500 3200 6200 3200
Connection ~ 6050 3200
Wire Wire Line
	5800 2750 5500 2750
Wire Wire Line
	6550 1850 6800 1850
Wire Wire Line
	6000 1850 6250 1850
Wire Wire Line
	950  1850 950  2750
Wire Wire Line
	4800 1500 4800 1850
Wire Wire Line
	3900 2950 3850 2950
Wire Wire Line
	4200 2950 4250 2950
Wire Wire Line
	4250 2950 4250 3250
Wire Wire Line
	4250 3650 4250 3700
Connection ~ 4250 3700
Wire Wire Line
	1900 2050 3950 2050
Wire Wire Line
	2700 1850 5600 1850
Wire Wire Line
	2400 1850 950  1850
Wire Wire Line
	1350 1500 4800 1500
Wire Wire Line
	3650 2350 3850 2350
Wire Wire Line
	3850 2350 3850 3050
Wire Wire Line
	3350 2350 3200 2350
Wire Wire Line
	3200 2350 3200 2050
Connection ~ 3200 2050
Wire Wire Line
	3850 3250 4000 3250
$Comp
L R R7
U 1 1 55A9A097
P 6450 4700
F 0 "R7" V 6530 4700 50  0000 C CNN
F 1 "1k" V 6450 4700 50  0000 C CNN
F 2 "" V 6380 4700 30  0000 C CNN
F 3 "" H 6450 4700 30  0000 C CNN
	1    6450 4700
	0    -1   -1   0   
$EndComp
Wire Wire Line
	6300 4700 4000 4700
Wire Wire Line
	4000 4700 4000 3250
$Comp
L Q_NMOS_GDS-RESCUE-regulator Q5
U 1 1 55A9A277
P 6900 4700
F 0 "Q5" V 7150 4950 50  0000 R CNN
F 1 "BUK9511-55A (Logic Level)" H 8200 4750 50  0000 R CNN
F 2 "" H 7100 4800 29  0000 C CNN
F 3 "" H 6900 4700 60  0000 C CNN
	1    6900 4700
	1    0    0    -1  
$EndComp
Wire Wire Line
	6700 4700 6600 4700
Wire Notes Line
	8350 4300 8350 5050
Wire Notes Line
	8350 5050 6200 5050
Wire Notes Line
	6200 5050 6200 4300
Wire Notes Line
	6200 4300 8350 4300
Text Notes 6250 4400 0    60   ~ 0
Replace D1, PWM Sync
$EndSCHEMATC
